--
-- PostgreSQL database cluster dump
--

-- Started on 2018-03-02 21:54:02

SET default_transaction_read_only = off;

SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE postgres;
ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION NOBYPASSRLS PASSWORD 'md50772bbcfd441a34cd0a6c1d9c935deff';






--
-- Database creation
--

CREATE DATABASE is22 WITH TEMPLATE = template0 OWNER = postgres;
REVOKE ALL ON DATABASE template1 FROM PUBLIC;
REVOKE ALL ON DATABASE template1 FROM postgres;
GRANT ALL ON DATABASE template1 TO postgres;
GRANT CONNECT ON DATABASE template1 TO PUBLIC;


\connect is22

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.4
-- Dumped by pg_dump version 10.3

-- Started on 2018-03-02 21:54:02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 11750)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2020 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 175 (class 1259 OID 16423)
-- Name: actividad; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.actividad (
    id_actividad numeric NOT NULL,
    nombre_actividad "char"[],
    estado_actividad "char"
);


ALTER TABLE public.actividad OWNER TO postgres;

--
-- TOC entry 177 (class 1259 OID 16439)
-- Name: cliente; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cliente (
    id_cliente numeric NOT NULL,
    nombre_cliente "char",
    proyecto "char"
);


ALTER TABLE public.cliente OWNER TO postgres;

--
-- TOC entry 176 (class 1259 OID 16431)
-- Name: estado; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estado (
    id_estado numeric NOT NULL,
    nombre_estado "char"[]
);


ALTER TABLE public.estado OWNER TO postgres;

--
-- TOC entry 174 (class 1259 OID 16415)
-- Name: flujo; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.flujo (
    id_flujo numeric NOT NULL,
    actividades "char"
);


ALTER TABLE public.flujo OWNER TO postgres;

--
-- TOC entry 173 (class 1259 OID 16407)
-- Name: historia; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.historia (
    id_historia numeric NOT NULL,
    cuerpo "char",
    fecha date
);


ALTER TABLE public.historia OWNER TO postgres;

--
-- TOC entry 180 (class 1259 OID 16463)
-- Name: permisos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.permisos (
    id_permiso numeric(20,0) NOT NULL,
    nombre_permiso "char"
);


ALTER TABLE public.permisos OWNER TO postgres;

--
-- TOC entry 171 (class 1259 OID 16394)
-- Name: proyectos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.proyectos (
    id_proyecto numeric(20,0) NOT NULL,
    nombre_proyecto "char",
    alias "char",
    scrum_master "char",
    usuarios "char",
    fecha_inicio date,
    fecha_fin date
);


ALTER TABLE public.proyectos OWNER TO postgres;

--
-- TOC entry 179 (class 1259 OID 16455)
-- Name: rol; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.rol (
    id_rol numeric NOT NULL,
    nombre_rol "char",
    id_permiso numeric(20,0)
);


ALTER TABLE public.rol OWNER TO postgres;

--
-- TOC entry 181 (class 1259 OID 16471)
-- Name: sprint; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sprint (
    id_sprint numeric NOT NULL,
    nombre_sprint "char",
    duracion numeric,
    descripcion "char",
    asociados "char"
);


ALTER TABLE public.sprint OWNER TO postgres;

--
-- TOC entry 172 (class 1259 OID 16399)
-- Name: user_histories; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_histories (
    id_user_histories numeric NOT NULL,
    nombre "char",
    historial "char",
    prioridad numeric
);


ALTER TABLE public.user_histories OWNER TO postgres;

--
-- TOC entry 178 (class 1259 OID 16447)
-- Name: usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuario (
    id_usuario numeric NOT NULL,
    nombre_usuario "char",
    "user" "char",
    password "char",
    mail "char",
    telefono numeric,
    rol "char"
);


ALTER TABLE public.usuario OWNER TO postgres;

--
-- TOC entry 2005 (class 0 OID 16423)
-- Dependencies: 175
-- Data for Name: actividad; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.actividad (id_actividad, nombre_actividad, estado_actividad) FROM stdin;
\.


--
-- TOC entry 2007 (class 0 OID 16439)
-- Dependencies: 177
-- Data for Name: cliente; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.cliente (id_cliente, nombre_cliente, proyecto) FROM stdin;
\.


--
-- TOC entry 2006 (class 0 OID 16431)
-- Dependencies: 176
-- Data for Name: estado; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estado (id_estado, nombre_estado) FROM stdin;
\.


--
-- TOC entry 2004 (class 0 OID 16415)
-- Dependencies: 174
-- Data for Name: flujo; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.flujo (id_flujo, actividades) FROM stdin;
\.


--
-- TOC entry 2003 (class 0 OID 16407)
-- Dependencies: 173
-- Data for Name: historia; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.historia (id_historia, cuerpo, fecha) FROM stdin;
\.


--
-- TOC entry 2010 (class 0 OID 16463)
-- Dependencies: 180
-- Data for Name: permisos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.permisos (id_permiso, nombre_permiso) FROM stdin;
\.


--
-- TOC entry 2001 (class 0 OID 16394)
-- Dependencies: 171
-- Data for Name: proyectos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.proyectos (id_proyecto, nombre_proyecto, alias, scrum_master, usuarios, fecha_inicio, fecha_fin) FROM stdin;
\.


--
-- TOC entry 2009 (class 0 OID 16455)
-- Dependencies: 179
-- Data for Name: rol; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.rol (id_rol, nombre_rol, id_permiso) FROM stdin;
\.


--
-- TOC entry 2011 (class 0 OID 16471)
-- Dependencies: 181
-- Data for Name: sprint; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.sprint (id_sprint, nombre_sprint, duracion, descripcion, asociados) FROM stdin;
\.


--
-- TOC entry 2002 (class 0 OID 16399)
-- Dependencies: 172
-- Data for Name: user_histories; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_histories (id_user_histories, nombre, historial, prioridad) FROM stdin;
\.


--
-- TOC entry 2008 (class 0 OID 16447)
-- Dependencies: 178
-- Data for Name: usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuario (id_usuario, nombre_usuario, "user", password, mail, telefono, rol) FROM stdin;
\.


--
-- TOC entry 1879 (class 2606 OID 16430)
-- Name: actividad actividad_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.actividad
    ADD CONSTRAINT actividad_pkey PRIMARY KEY (id_actividad);


--
-- TOC entry 1883 (class 2606 OID 16446)
-- Name: cliente cliente_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cliente
    ADD CONSTRAINT cliente_pkey PRIMARY KEY (id_cliente);


--
-- TOC entry 1881 (class 2606 OID 16438)
-- Name: estado estado_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado
    ADD CONSTRAINT estado_pkey PRIMARY KEY (id_estado);


--
-- TOC entry 1877 (class 2606 OID 16422)
-- Name: flujo flujo_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.flujo
    ADD CONSTRAINT flujo_pkey PRIMARY KEY (id_flujo);


--
-- TOC entry 1875 (class 2606 OID 16414)
-- Name: historia historia_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.historia
    ADD CONSTRAINT historia_pkey PRIMARY KEY (id_historia);


--
-- TOC entry 1890 (class 2606 OID 16480)
-- Name: permisos permisos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.permisos
    ADD CONSTRAINT permisos_pkey PRIMARY KEY (id_permiso);


--
-- TOC entry 1871 (class 2606 OID 16398)
-- Name: proyectos proyectos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.proyectos
    ADD CONSTRAINT proyectos_pkey PRIMARY KEY (id_proyecto);


--
-- TOC entry 1888 (class 2606 OID 16462)
-- Name: rol rol_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rol
    ADD CONSTRAINT rol_pkey PRIMARY KEY (id_rol);


--
-- TOC entry 1892 (class 2606 OID 16478)
-- Name: sprint sprint_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sprint
    ADD CONSTRAINT sprint_pkey PRIMARY KEY (id_sprint);


--
-- TOC entry 1873 (class 2606 OID 16406)
-- Name: user_histories user_histories_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_histories
    ADD CONSTRAINT user_histories_pkey PRIMARY KEY (id_user_histories);


--
-- TOC entry 1885 (class 2606 OID 16454)
-- Name: usuario usuario_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuario
    ADD CONSTRAINT usuario_pkey PRIMARY KEY (id_usuario);


--
-- TOC entry 1886 (class 1259 OID 16490)
-- Name: fki_fk_rol_permisos; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX fki_fk_rol_permisos ON public.rol USING btree (id_permiso);


--
-- TOC entry 1893 (class 2606 OID 16485)
-- Name: rol fk_rol_permisos; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.rol
    ADD CONSTRAINT fk_rol_permisos FOREIGN KEY (id_permiso) REFERENCES public.permisos(id_permiso);


--
-- TOC entry 2019 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2018-03-02 21:54:02

--
-- PostgreSQL database dump complete
--

\connect postgres

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.4
-- Dumped by pg_dump version 10.3

-- Started on 2018-03-02 21:54:02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1931 (class 0 OID 0)
-- Dependencies: 1930
-- Name: DATABASE postgres; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE postgres IS 'default administrative connection database';


--
-- TOC entry 2 (class 3079 OID 11750)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 1934 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 1 (class 3079 OID 16384)
-- Name: adminpack; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS adminpack WITH SCHEMA pg_catalog;


--
-- TOC entry 1935 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION adminpack; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION adminpack IS 'administrative functions for PostgreSQL';


--
-- TOC entry 1933 (class 0 OID 0)
-- Dependencies: 7
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2018-03-02 21:54:02

--
-- PostgreSQL database dump complete
--

\connect template1

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.4
-- Dumped by pg_dump version 10.3

-- Started on 2018-03-02 21:54:02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1930 (class 0 OID 0)
-- Dependencies: 1929
-- Name: DATABASE template1; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE template1 IS 'default template for new databases';


--
-- TOC entry 1 (class 3079 OID 11750)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 1933 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 1932 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2018-03-02 21:54:02

--
-- PostgreSQL database dump complete
--

-- Completed on 2018-03-02 21:54:02

--
-- PostgreSQL database cluster dump complete
--

